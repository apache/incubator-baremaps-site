(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{6636:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/documentation/examples/ip-to-location",function(){return n(4579)}])},4579:function(e,t,n){"use strict";n.r(t);var a=n(5893),i=n(4319),s=n(1151);function o(e){let t=Object.assign({h1:"h1",p:"p",h2:"h2",a:"a",ul:"ul",li:"li",pre:"pre",code:"code",span:"span"},(0,s.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{children:"Create an IP to location web service"}),"\n",(0,a.jsx)(t.p,{children:"In this tutorial, we demonstrate how to create an IP to location index and then serve it in a simple web application."}),"\n",(0,a.jsx)(t.h2,{id:"dataset",children:"Dataset"}),"\n",(0,a.jsxs)(t.p,{children:["The data used to create an IP to location index is publicly available from the 5 ",(0,a.jsx)(t.a,{href:"https://whatismyipaddress.com/rir",children:"Regional Internet Registries (RIRs)"})]}),"\n",(0,a.jsx)(t.p,{children:"Here is the list of the 5 RIRs."}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://www.arin.net/",children:"ARIN"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://www.lacnic.net/",children:"LACNIC"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://afrinic.net/",children:"AFRINIC"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://www.ripe.net/",children:"RIPE NCC"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://www.apnic.net/",children:"APNIC"})}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"These Regional Internet Registries contain records that link IP address ranges to organisations along with some metadata.\nIt is not always possible to extract meaningful data from these registries because they are not normalised."}),"\n",(0,a.jsx)(t.h2,{id:"generate-the-index",children:"Generate the index"}),"\n",(0,a.jsx)(t.p,{children:"The workflow executed in the following command contains multiple steps."}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Download and decompress the data from the RIRs"}),"\n",(0,a.jsxs)(t.li,{children:["Download and create a Geocoding index (see the ",(0,a.jsx)(t.a,{href:"/examples/geocoding/",children:"Geocoding"})," example)"]}),"\n",(0,a.jsx)(t.li,{children:"Iterate over every entry in the registries to extract the IP address ranges and the associated metadata to query the Geocoding index and extract a latitude and a longitude."}),"\n"]}),"\n",(0,a.jsx)(t.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(t.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(t.span,{className:"line",children:(0,a.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"baremaps workflow execute --file examples/geocoding/workflow.json"})})})}),"\n",(0,a.jsx)(t.h2,{id:"serve-the-data",children:"Serve the data"}),"\n",(0,a.jsx)(t.p,{children:"The following command will serve the Geonames index over HTTP in a simple web application."}),"\n",(0,a.jsx)(t.pre,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(t.code,{"data-language":"text","data-theme":"default",children:(0,a.jsx)(t.span,{className:"line",children:(0,a.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"iploc serve --database iploc.db --port 9000"})})})}),"\n",(0,a.jsxs)(t.p,{children:["Go to ",(0,a.jsx)(t.a,{href:"http://localhost:9000/",children:"http://localhost:9000/"})," to see it in action."]}),"\n",(0,a.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,a.jsx)(t.p,{children:"In this tutorial, we learnt how to create an IP to location index and serve it in a simple web application.\nIP to location has many uses, one of which is to locate users that connect to a website to generate statistics."})]})}n(5675),t.default=(0,i.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,s.ah)(),e.components);return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(o,{...e})}):o(e)},pageOpts:{filePath:"pages/documentation/examples/ip-to-location.mdx",route:"/documentation/examples/ip-to-location",frontMatter:{layout:"default",title:"Create an IP to location web service",permalink:"/examples/ip-to-location/"},headings:[{depth:1,value:"Create an IP to location web service",id:"create-an-ip-to-location-web-service"},{depth:2,value:"Dataset",id:"dataset"},{depth:2,value:"Generate the index",id:"generate-the-index"},{depth:2,value:"Serve the data",id:"serve-the-data"},{depth:2,value:"Conclusion",id:"conclusion"}],title:"Create an IP to location web service"},pageNextRoute:"/documentation/examples/ip-to-location"})}},function(e){e.O(0,[319,774,888,179],function(){return e(e.s=6636)}),_N_E=e.O()}]);