(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[721],{6695:function(a,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/documentation/examples/import-naturalearth-into-postgis",function(){return t(5410)}])},5410:function(a,e,t){"use strict";t.r(e);var s=t(5893),n=t(4319),l=t(1151);function i(a){let e=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2",pre:"pre",code:"code",span:"span"},(0,l.ah)(),a.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{children:"Import Natural Earth data into PostGIS"}),"\n",(0,s.jsx)(e.p,{children:"In this tutorial, we'll learn how to use Baremaps to import Natural Earth data in a PostGIS database."}),"\n",(0,s.jsxs)(e.p,{children:["Notice that the following steps assume that the Apache Baremaps CLI and PostGIS are ",(0,s.jsx)(e.a,{href:"https://www.baremaps.com/getting-started/",children:"installed"}),"."]}),"\n",(0,s.jsx)(e.h2,{id:"dataset",children:"Dataset"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://www.naturalearthdata.com/",children:"Natural Earth"})," is a public domain map dataset available at 1:10m, 1:50m, and 1:110 million scales."]}),"\n",(0,s.jsx)(e.p,{children:"The following workflow will download the Natural Earth data, decompress it, and finally import it in the database."}),"\n",(0,s.jsx)(e.pre,{"data-language":"text","data-theme":"default",children:(0,s.jsx)(e.code,{"data-language":"text","data-theme":"default",children:(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"baremaps workflow execute --file examples/naturalearth/workflow.json"})})})}),"\n",(0,s.jsx)(e.h2,{id:"working-with-shapefiles-optional",children:"Working with shapefiles (Optional)"}),"\n",(0,s.jsxs)(e.p,{children:["The NaturalEarth dataset is also distributed in the ",(0,s.jsx)(e.a,{href:"https://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_admin_0_countries.zip",children:"shapefile format"}),".\nAs demonstrated in the following command, shapefiles can easily be imported in postgis with ",(0,s.jsx)(e.code,{children:"ogr2ogr"}),".\nHere, notice that the data is reprojected in WebMercator (EPSG:3857) to improve performance at query time."]}),"\n",(0,s.jsx)(e.pre,{"data-language":"text","data-theme":"default",children:(0,s.jsxs)(e.code,{"data-language":"text","data-theme":"default",children:[(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"ogr2ogr \\"})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'  -f "PostgreSQL" "PG:host=localhost user=baremaps dbname=baremaps password=baremaps" \\'})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:'  "ne_10m_admin_0_countries.shp" \\'})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  -lco GEOMETRY_NAME=geom \\"})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  -lco FID=gid \\"})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  -lco PRECISION=no \\"})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  -nlt PROMOTE_TO_MULTI \\"})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  -nln ne_10m_admin_0_countries \\"})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  -s_srs EPSG:4326 \\"})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  -t_srs EPSG:3857 \\"})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  --config OGR_ENABLE_PARTIAL_REPROJECTION TRUE \\"})}),"\n",(0,s.jsx)(e.span,{className:"line",children:(0,s.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  -overwrite"})})]})}),"\n",(0,s.jsx)(e.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(e.p,{children:"In this tutorial, we learnt how to import Natural Earth data in PostGIS."}),"\n",(0,s.jsxs)(e.p,{children:["Now that you have inserted the data into the PostGIS database, you can use follow the ",(0,s.jsx)(e.a,{href:"/examples/serve-vector-tiles",children:"Serve Vector Tiles from PostGIS"})," example to serve\nyour PostGIS data directly as Vector Tiles in a web application with live reload capabilities."]})]})}t(5675),e.default=(0,n.j)({MDXContent:function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,l.ah)(),a.components);return e?(0,s.jsx)(e,{...a,children:(0,s.jsx)(i,{...a})}):i(a)},pageOpts:{filePath:"pages/documentation/examples/import-naturalearth-into-postgis.mdx",route:"/documentation/examples/import-naturalearth-into-postgis",frontMatter:{layout:"default",title:"Import Natural Earth data into PostGIS",permalink:"/examples/import-naturalearth-into-postgis/"},headings:[{depth:1,value:"Import Natural Earth data into PostGIS",id:"import-natural-earth-data-into-postgis"},{depth:2,value:"Dataset",id:"dataset"},{depth:2,value:"Working with shapefiles (Optional)",id:"working-with-shapefiles-optional"},{depth:2,value:"Conclusion",id:"conclusion"}],title:"Import Natural Earth data into PostGIS"},pageNextRoute:"/documentation/examples/import-naturalearth-into-postgis"})}},function(a){a.O(0,[319,774,888,179],function(){return a(a.s=6695)}),_N_E=a.O()}]);